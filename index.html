<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Dry.Coffee76</title>

  <!-- Telegram Web App SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #0b0b0f;
      color: #e8e8ff;
      min-height: 100vh;
      padding-bottom: 110px;
    }

    .header {
      background: linear-gradient(to bottom, #1a0033, #0f001a);
      padding: 12px 16px;
      text-align: center;
      border-bottom: 1px solid #2a004a;
      position: relative;
    }

    .back-btn {
      position: absolute;
      left: 16px;
      top: 16px;
      background: rgba(40, 20, 60, 0.6);
      border: 1px solid #444488;
      color: #aaaaff;
      padding: 8px 14px;
      border-radius: 12px;
      font-size: 0.9rem;
      cursor: pointer;
    }

    .logo-small {
      width: 140px;
      height: auto;
      border-radius: 12px;
      margin: 8px auto;
      display: block;
      box-shadow: 0 4px 15px rgba(123,0,255,0.3);
    }

    .product-title {
      font-size: 1.8rem;
      font-weight: 800;
      background: linear-gradient(90deg, #c300ff, #00d4ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: 12px 0 8px;
    }

    .product-image {
      width: 100%;
      max-height: 320px;
      object-fit: cover;
      border-radius: 16px;
      margin: 16px 0;
      box-shadow: 0 10px 30px rgba(0,0,0,0.7);
    }

    .description {
      padding: 0 16px;
      font-size: 0.95rem;
      color: #bbbbff;
      line-height: 1.5;
      margin-bottom: 20px;
    }

    .highlight {
      color: #ffcc00;
      font-weight: 600;
    }

    .quantity-section {
      padding: 0 16px;
      margin: 24px 0;
    }

    .quantity-title {
      font-size: 1.3rem;
      color: #00ffcc;
      margin-bottom: 16px;
      text-align: center;
    }

    .quantity-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .qty-btn {
      background: rgba(40, 20, 60, 0.7);
      border: 2px solid #444488;
      border-radius: 16px;
      padding: 16px 12px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
      overflow: hidden;
    }

    .qty-btn.selected {
      background: linear-gradient(135deg, #7b00ff, #b300ff);
      border-color: #00ffcc;
      box-shadow: 0 0 20px rgba(0, 255, 204, 0.5);
      color: white;
    }

    .qty-btn:hover:not(.selected) {
      background: rgba(123, 0, 255, 0.25);
      border-color: #7b00ff;
    }

    .qty-weight {
      font-size: 1.4rem;
      font-weight: bold;
      color: #e0e0ff;
    }

    .qty-price {
      font-size: 1.1rem;
      color: #00ff9d;
      margin-top: 4px;
    }

    .add-to-cart {
      position: fixed;
      bottom: 80px;
      left: 16px;
      right: 16px;
      background: linear-gradient(90deg, #7b00ff, #00d4ff);
      color: white;
      border: none;
      border-radius: 999px;
      padding: 16px;
      font-size: 1.1rem;
      font-weight: 700;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(123,0,255,0.5);
      text-align: center;
      z-index: 90;
      transition: transform 0.15s;
    }

    .add-to-cart:active {
      transform: scale(0.96);
    }

    .bottom-nav {
      position: fixed;
      bottom: 12px;
      left: 12px;
      right: 12px;
      background: rgba(15, 10, 30, 0.85);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(80, 50, 140, 0.4);
      border-radius: 24px;
      padding: 10px 0;
      display: flex;
      justify-content: space-around;
      box-shadow: 0 8px 30px rgba(0,0,0,0.7);
      z-index: 100;
    }

    .nav-btn {
      background: transparent;
      border: none;
      color: #bbbbff;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      font-size: 1.9rem;
      padding: 6px 12px;
      border-radius: 12px;
      transition: all 0.2s;
    }

    .nav-btn small {
      font-size: 0.68rem;
      font-weight: 600;
      letter-spacing: 0.4px;
      text-transform: uppercase;
    }

    .nav-btn:hover,
    .nav-btn:active {
      color: #00ffcc;
      background: rgba(0, 255, 200, 0.08);
    }

    .cart-icon {
      position: relative;
    }

    .cart-badge {
      position: absolute;
      top: -4px;
      right: -4px;
      background: #ff3366;
      color: white;
      font-size: 0.7rem;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  </style>
</head>
<body>

  <div class="header">
    <button class="back-btn" onclick="history.back()">‚Üê Retour</button>
    <img src="chat.jpg" alt="Dry.Coffee76" class="logo-small">
    <div class="product-title">CALIPLATESS SINGLE SOURCE</div>
  </div>

  <img 
    src="https://images.unsplash.com/photo-1608248543803-3ee15a6b18f2?w=800" 
    alt="Produit CaliPlates" 
    class="product-image"
  >

  <div class="description">
    <strong>NOUVEAU CALIPLATESS FROZEN SINGLE SOURCE</strong><br><br>
    Source la <span class="highlight">meilleure farm US</span> √† Lyon au meilleur prix üî•<br>
    Nouvelles saveurs explosives : 
    <strong>CANDY FUMES</strong> / <strong>ICE CREAM CAKE</strong> / 
    <strong>FORUM COOKIE</strong> / <strong>GUMBO</strong> / 
    <strong>ZOAP</strong> / <strong>DOSIDOS</strong> 
  </div>

  <div class="quantity-section">
    <div class="quantity-title">S√©lectionner la Quantit√©</div>
    
    <div class="quantity-grid">
      <button class="qty-btn" data-qty="1" data-price="40">
        <div class="qty-weight">1G</div>
        <div class="qty-price">40.00‚Ç¨</div>
      </button>
      <button class="qty-btn" data-qty="2" data-price="70">
        <div class="qty-weight">2G</div>
        <div class="qty-price">70.00‚Ç¨</div>
      </button>
      <button class="qty-btn" data-qty="5" data-price="130">
        <div class="qty-weight">5G</div>
        <div class="qty-price">130.00‚Ç¨</div>
      </button>
      <button class="qty-btn" data-qty="10" data-price="250">
        <div class="qty-weight">10G</div>
        <div class="qty-price">250.00‚Ç¨</div>
      </button>
      <button class="qty-btn" data-qty="50" data-price="1000">
        <div class="qty-weight">50G</div>
        <div class="qty-price">1000.00‚Ç¨</div>
      </button>
      <button class="qty-btn" data-qty="100" data-price="1900">
        <div class="qty-weight">100G</div>
        <div class="qty-price">1900.00‚Ç¨</div>
      </button>
    </div>
  </div>

  <button class="add-to-cart" id="addToCart">
    Ajouter au Panier ‚Ä¢ <span id="selectedQty">0G</span> ‚Äì <span id="selectedPrice">0.00‚Ç¨</span>
  </button>

  <div class="bottom-nav">
    <button class="nav-btn">
      <span>üè†</span>
      <small>Accueil</small>
    </button>
    <button class="nav-btn">
      <span>‚≠ê</span>
      <small>Avis</small>
    </button>
    <button class="nav-btn cart-icon">
      <span>üõí</span>
      <small>Panier</small>
      <span class="cart-badge" id="cartCount">0</span>
    </button>
    <button class="nav-btn">
      <span>‚ÑπÔ∏è</span>
      <small>Infos</small>
    </button>
    <button class="nav-btn">
      <span>‚úâÔ∏è</span>
      <small>Contact</small>
    </button>
  </div>

  <script>
    const tg = window.Telegram?.WebApp || {};
    tg.ready?.();
    tg.expand?.();

    // S√©lection quantit√©
    let selectedQty = 0;
    let selectedPrice = 0;

    document.querySelectorAll('.qty-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        // Retire selected sur tous
        document.querySelectorAll('.qty-btn').forEach(b => b.classList.remove('selected'));
        // Ajoute sur celui cliqu√©
        btn.classList.add('selected');

        selectedQty = parseInt(btn.dataset.qty);
        selectedPrice = parseFloat(btn.dataset.price);

        document.getElementById('selectedQty').textContent = selectedQty + 'G';
        document.getElementById('selectedPrice').textContent = selectedPrice.toFixed(2) + '‚Ç¨';
      });
    });

    // Ajouter au panier (simulation)
    document.getElementById('addToCart').addEventListener('click', () => {
      if (selectedQty === 0) {
        alert("S√©lectionne une quantit√© d'abord !");
        return;
      }

      // Ici tu peux stocker dans localStorage ou envoyer via tg.sendData()
      alert(`Ajout√© : ${selectedQty}G pour ${selectedPrice.toFixed(2)}‚Ç¨`);

      // Mise √† jour badge panier (simulation)
      let count = parseInt(document.getElementById('cartCount').textContent) || 0;
      document.getElementById('cartCount').textContent = count + 1;
    });

    // Mise √† jour pseudo utilisateur
    if (tg.initDataUnsafe?.user?.username) {
      // Tu peux l'utiliser si besoin
    }
  </script>

</body>
</html>
